<!DOCTYPE html><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ethan's Space Invaders</title>
    <link rel="icon" type="image/x-icon" href="static/favicon.ico">
    <style>
        body {
            font-family:'courier new', courier, monospace;
            background-color: #1b269a5a;
            color: #fff;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height:100vh;
            overflow:hidden;

        }
        h1 {
            margin-bottom:10px;
        }
        #game-container {
            position: relative;
            width: 600px;
            height: 400px;
            background-color: #000000;
            border: 4px solid #4e4e4e;
            border-radius: 8px;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.2);
            
        }

        #player {
            position: absolute;
            bottom: 10px;
            left: 280px;
            transform: translateX(-50%);
            width: 10px;
            height: 10px;
            border-left: 20px solid transparent;
            border-right: 20px solid transparent;
            border-bottom: 30px solid #00ffcc;
            background-color: #00ff00;
            border: 2px solid #00cc00;
            border-radius: 4px;
        }

        .alien{
            position: absolute;
            width: 30px;
            height: 20px;
            background-color: #ff4d4d;
            border-radius: 3px;
            transition: transform 1.1s;
        }

        .bullet {
            position: absolute;
            width: 4px;
            height: 15px;
            background-color: #ffff00;
        }

        #score-board {
            position: absolute;
            top: 10px;
            left: 10px;
            color: #00ff00;
            font-size: 24px;
            margin-top: 10px;
        }

        .game-over{
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.8);
            padding: 20px;
            border: 2px solid white;
            display: none;
            font-size: 48px;
            text-align: center;
        }                             
    </style>
</head>
<body>
    <header>
        <h1>Ethan's Space Invaders</h1>
    </header>
    <main>
        

        <section id="game">
            <h2>SPACE INVADERS V2</h2>
        <div id ="game-container">
            <div id="player"></div>
            
            <div class="game-over" id="game-over-screen">
                <h2 id="status-text">GAME OVER</h2>
                <button id="restart-button" onclick="location.reload()">PLAY AGAIN</button>
            </div>
        </div>

        <div id="score-board">SCORE: <span id ="score">0</span></div>
        </section>
        <section id="controls">
            <h2>Controls</h2>
            <p>Use arrow keys to move and spacebar to shoot.</p>
        </section>
    </main>
    <footer>
        <p>&copy; 2026 Ethan's Space Invaders</p>
    </footer>
    <script>

        const container = document.getElementById('game-container');
        const player = document.getElementById('player');
        const scoreElement= document.getElementById('score');
        const gameOverScreen = document.getElementById('game-over-screen');
        const statusText = document.getElementById('status-text');

        let playerX = 280;
        let score = 0;
        let aliens = [];
        let bullets = [];
        let alienDirection = 1;
        let gameInterval;
        let alienInterval;
        let bulletInterval;
        let isGameOver = false;
        let alienMoveTimer =0;
        const keys = {};
        window.addEventListener('keydown', (e) => {
            keys[e.key] = true;
        });
        window.addEventListener('keyup', (e) => {
            keys[e.key] = false;
        });

        function createAliens() {
            for (let i = 0; i < 3; i++) {
                for (let j = 0; j < 8; j++) {
                    const alien = document.createElement('div');
                    alien.className = 'alien';

                    let x = j * 50 + 50;
                    let y = i * 40 + 30;

                    alien.style.top = y + 'px';
                    alien.style.left = x + 'px';

                    container.appendChild(alien);
                    aliens.push({
                        element: alien,
                        x: x,
                        y: y
                    });
                }
            }
        }

        function moveAliens() {
            aliens.forEach(alien => {
                let currentX = parseInt(alien.style.left);
                if (currentX >= 570 || currentX <= 0) {
                    alienDirection *= -1;
                    aliens.forEach(a => {
                        a.style.top = `${parseInt(a.style.top) + 20}px`;
                        if (parseInt(a.style.top) >= 350) {
                            endGame();
                        }
                    });
                }
                alien.style.left = `${currentX + alienDirection * 10}px`;
            });
        }


        window.addEventListener('keydown', (e) => {
            if (e.code==='Space' && !isGameOver){
                const bullet = document.createElement('div');
                bullet.className = 'bullet';
                let bX = playerX + 18;
                let bY = 370;

                bullet.style.left = bX + 'px';
                bullet.style.top = bY + 'px';
                container.appendChild(bullet);
                bullets.push({
                    element: bullet,
                    x: bX,
                    y: bY
                });
            }
        });


        function update(){
            if(isGameOver) return;

            if(keys['ArrowLeft'] && playerX > 0){
                playerX -= 5;
            }
            if(keys['ArrowRight'] && playerX < 560){
                playerX += 5;
            }
            player.style.left = playerX + 'px';

            for(let i=bullets.length-1; i>=0;i--)
            {
                let b = bullets[i];
                b.y -= 7;
                b.element.style.top = b.y + 'px';
                for(let j = aliens.length-1; j>=0;j--)
                {
                    let a = aliens[j];
                    if(b.x > a.x && b.x < a.x +30 && b.y > a.y && b.y < a.y +20){
                        container.removeChild(a.element);
                        aliens.splice(j,1);

                        container.removeChild(b.element);
                        bullets.splice(i,1);

                        score += 10;
                        scoreElement.innerText = score;
                        break;
                }
            }

            if(b.y < 0 && bullets[i]){
                container.removeChild(b.element);
                bullets.splice(i,1);
            }

        }

        alienMoveTimer++;

        if(alienMoveTimer > 10)
        {
            let shiftDown = false;

            aliens.forEach(a => {
                if (a.x > 560 || a.x < 0) {
                    shiftDown = true;
                }
            });

            if(shiftDown)
            {
                alienDirection *= -1;
                aliens.forEach(a => {
                    a.y += 20;
                    a.element.style.top = a.y + 'px';
                    if (a.y >= 340) {
                        endGame("THE ALIENS HAVE LANDED! YOU LOSE!");
                    }
                });
            }

            aliens.forEach(a => {
                a.x += (alienDirection * 20);
                
            });

            aliens.forEach(a => {
                a.element.style.left = a.x + 'px';
                a.element.style.top = a.y + 'px';
            });

            alienMoveTimer = 0;
        }

        if(aliens.length === 0)
        {
            endGame("CONGRATULATIONS! YOU WIN!");
        }
        requestAnimationFrame(update);
    }
        function endGame(message){
            isGameOver = true;
            document.getElementById('status-text').innerText =message;                                                                                                  
            statusText.innerText = message;
            gameOverScreen.style.display = 'block';
        }
        
        createAliens();
        update();   

        

    </script>
</body>
</html>